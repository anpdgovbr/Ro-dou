# Example .env file for docker-compose. Copy to .env and edit values.
# Do not commit real secrets. Leave passwords/keys empty and provide them
# via CI/deployment secret managers.

# Timezone used by Airflow (IANA database). Example: UTC
# Default used by docker-compose if empty: America/Sao_Paulo
AIRFLOW_TIMEZONE=America/Sao_Paulo

# Airflow executor. Examples: LocalExecutor, CeleryExecutor, KubernetesExecutor
AIRFLOW_EXECUTOR=LocalExecutor

# Fernet key for Airflow (sensitive). Leave empty here and provide securely in CI/production.
AIRFLOW_FERNET_KEY=


# Minimal secret used for local development and CI tests when copying .env.example
# Do NOT use this value in production; override via secrets or a secure .env in deploy.
AIRFLOW_SECRET_KEY=dev-airflow-secret-for-ci

# Number of webserver workers (integer)
AIRFLOW_WORKERS=2

# Initial admin user used only for quick local bootstrap. Provide secure creds in production.
AIRFLOW_USER=admin
AIRFLOW_PASSWORD=admin

########################
# Postgres connection
########################
# Hostname or service name for Postgres used by Airflow
POSTGRES_HOST=postgres
# Port (integer)
POSTGRES_PORT=5432
# Database username
POSTGRES_USER=airflow
# Database password (sensitive)
POSTGRES_PASSWORD=airflow
# Database name
POSTGRES_DB=airflow

########################
# SMTP (optional)
########################
# SMTP host, e.g. smtp.example.org
AIRFLOW__SMTP__SMTP_HOST=
# Sender address for Airflow emails
AIRFLOW__SMTP__SMTP_MAIL_FROM=
# SMTP port (integer)
AIRFLOW__SMTP__SMTP_PORT=
# true/false
AIRFLOW__SMTP__SMTP_STARTTLS=
# SMTP username (if required)
AIRFLOW__SMTP__SMTP_USER=
# SMTP password (sensitive)
AIRFLOW__SMTP__SMTP_PASSWORD=
# true/false
AIRFLOW__SMTP__SMTP_SSL=

# Development helper — smtp4dev (opcional)
# - Use this in development to capture emails locally.
# - Start the smtp4dev service with Compose and the dev profile:
#     docker compose --profile dev up -d smtp4dev
# - Then set the following values in your local `.env` (or uncomment
#   the examples below). Keep them commented in the repo; do NOT commit
#   real credentials.
# Example (uncomment locally to enable):
#AIRFLOW__SMTP__SMTP_HOST=smtp4dev
#AIRFLOW__SMTP__SMTP_PORT=25
#AIRFLOW__SMTP__SMTP_MAIL_FROM='airflow@example.local'

########################
# Ro-DOU specific
########################
# Directory with Ro-DOU DAG configs (relative to project root)
RO_DOU_DAG_CONF_DIR=dag_confs

# Optional: mount UID used by container for local file permissions (integer)
AIRFLOW_UID=50000

# Diretório temporário usado pelo Makefile ao criar a variável 'path_tmp' no Airflow
# Exemplo: /tmp/ro-dou
AIRFLOW_TMP_DIR=/tmp/ro-dou

# INLABS: configurações utilizadas pela DAG de importação INLABS (se aplicável).
# Informe o host completo, login e senha quando utilizar o source INLABS.
INLABS_PORTAL_HOST=
INLABS_PORTAL_LOGIN=
INLABS_PORTAL_PASSWORD=

# Perfil dev usado para serviços opcionais em docker compose (ex.: smtp4dev).
# Deixe vazio para não passar --profile por padrão.
# Para desabilitar: DEV_PROFILE=
DEV_PROFILE=dev

# Nome do projeto do Compose (fallback alternativo a COMPOSE_PROJECT_NAME).
# Use para alterar o prefixo dos containers e da rede gerada pelo compose.
PROJECT=ro-dou

# Permitir custom CA bundle em containers (opcional).
# Use quando precisar apontar para um CA customizado dentro dos containers.
REQUESTS_CA_BUNDLE=/etc/ssl/certs/ca-certificates.crt
SSL_CERT_FILE=/etc/ssl/certs/ca-certificates.crt

########################
# Build args (documentação)
########################
# O arquivo docker/airflow-common.Dockerfile define ARGs que controlam o
# comportamento do build. ARGs não são variáveis de runtime e não devem ser
# colocados nem definidos em .env; esta seção apenas documenta-os para
# contribuidores.
#
# DEBIAN_FRONTEND
#   - Tipo: string
#   - Exemplo/valor default: noninteractive
#   - Propósito: evita prompts interativos durante apt installs em builds.
#
# INSTALL_SECTIGO_R36
#   - Tipo: boolean (true|false)
#   - Exemplo/valor default: true
#   - Propósito: quando true o build tentará baixar e instalar o certificado
#     intermediário Sectigo R36 no trust store do sistema. Use false em
#     ambientes onde esse CA não é necessário ou o download não é permitido.
#
# Exemplo de uso de build-arg (linha de comando):
# docker build --build-arg INSTALL_SECTIGO_R36=false -t myimage -f docker/airflow-common.Dockerfile .

########################
# Docker Compose project name
########################
# Você pode controlar o nome do projeto do Docker Compose via variável
# de ambiente `COMPOSE_PROJECT_NAME` ou sobrescrevendo a variável `PROJECT`
# no Makefile. O nome do projeto afeta o prefixo usado nos containers e
# na rede gerada pelo compose. Em geral, mantenha o padrão 'ro-dou' em
# produção, mas você pode sobrescrever localmente sem alterar o Makefile:
#
# Exemplo (temporário):
#   PROJECT=myenv make run
#
# Ou exportando a variável de ambiente (sessão atual):
#   export COMPOSE_PROJECT_NAME=myenv
#   make run


